CREATE TABLE espacios (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL,
    descripcion TEXT,
    ubicacion VARCHAR(150),
    precio_noche DECIMAL(10, 2) NOT NULL,
    capacidad INT NOT NULL, 
    imagen VARCHAR(255), -- Para guardar la ruta de la foto (ej: 'img/casa1.jpg')
    estado ENUM('disponible', 'mantenimiento', 'inactivo') DEFAULT 'disponible',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE reservas ( 
    id INT AUTO_INCREMENT PRIMARY KEY,
    usuario_id INT NOT NULL, -- tabla de usuarios 
    espacio_id INT NOT NULL, -- tabla espacios 
    fecha_inicio DATE NOT NULL, 
    fecha_fin DATE NOT NULL, 
    total DECIMAL(10, 2), -- Precio calculado (d√≠as * precio_noche) 
    codigo_qr VARCHAR(255), -- texto o ruta del QR generado 
    estado ENUM('pendiente', 'confirmada', 'cancelada') DEFAULT 'pendiente', 
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP, 
    FOREIGN KEY (usuario_id) REFERENCES usuarios(id) ON DELETE CASCADE, 
    FOREIGN KEY (espacio_id) REFERENCES espacios(id) ON DELETE CASCADE ); 